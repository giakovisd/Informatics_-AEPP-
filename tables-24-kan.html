<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Î£Ï…Î¼Ï€Î»Î®ÏÏ‰ÏƒÎ· ÎšÏÎ´Î¹ÎºÎ±: Î Î¯Î½Î±ÎºÎµÏ‚</title>
    <style>
        :root {
            --bg-color: #f8fafc;
            --text-color: #1e293b;
            --panel-bg: #ffffff;
            
            --col-main: #2563eb; 
            --col-var: #1e293b; 
            --col-num: #d97706;  
            --col-comment: #10b981;
            
            --border-color: #cbd5e1;
            
            --input-bg: #f1f5f9;
            --input-border: #94a3b8;
            --input-text: #000;
        }

        body.dark-mode {
            --bg-color: #0f172a;
            --text-color: #f1f5f9;
            --panel-bg: #1e293b;
            
            --col-main: #60a5fa; 
            --col-var: #e2e8f0;
            --col-num: #fbbf24;
            --border-color: #334155;
            
            --input-bg: #334155;
            --input-border: #64748b;
            --input-text: #fff;
        }

        * { box-sizing: border-box; }

        body {
            font-family: 'Segoe UI', Tahoma, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0; padding: 0; height: 100vh;
            display: flex; flex-direction: column; overflow: hidden;
        }

        /* HEADER */
        header {
            background-color: var(--panel-bg);
            border-bottom: 1px solid var(--border-color);
            padding: 0 20px;
            display: flex; justify-content: space-between; align-items: center;
            height: 60px; flex-shrink: 0;
        }

        .header-title h1 { margin: 0; font-size: 1.1rem; display: flex; align-items: center; gap: 8px; }
        .controls-area { display: flex; gap: 8px; align-items: center; }

        button {
            padding: 6px 12px; border: 1px solid var(--border-color); border-radius: 4px;
            cursor: pointer; font-weight: 600; font-size: 0.85rem;
            background-color: var(--panel-bg); color: var(--text-color);
            transition: all 0.2s; display: flex; align-items: center; gap: 5px;
        }
        button:hover { background-color: #f1f5f9; transform: translateY(-1px); }
        
        .btn-check { background-color: #10b981; color: white; border-color: #059669; }
        .btn-check:hover { background-color: #059669; }
        
        .btn-solve { background-color: #ef4444; color: white; border-color: #dc2626; }
        .btn-solve:hover { background-color: #dc2626; }

        /* MAIN LAYOUT */
        .main-container {
            display: flex; flex: 1; height: calc(100% - 60px); overflow: hidden; 
        }

        /* LEFT: Sidebar - Tighter spacing */
        .col-info {
            flex: 0 0 390px; display: flex; flex-direction: column;
            background: var(--panel-bg); border-right: 1px solid var(--border-color);
            overflow-y: auto; padding: 20px; font-size: 0.95rem; 
            line-height: 1.35; /* Reduced line height */
        }
        
        .col-info p { margin-bottom: 8px; margin-top: 0; }
        .col-info h3 { margin-bottom: 10px; }

        /* RIGHT: Code Area */
        .col-viz {
            flex: 1; display: flex; flex-direction: column;
            background: var(--bg-color); 
            overflow: hidden; padding: 15px; position: relative;
        }

        .code-container {
            background: var(--panel-bg); border-radius: 6px; border: 1px solid var(--border-color);
            padding: 25px; overflow-y: auto; height: 100%;
            font-family: 'Consolas', 'Monaco', monospace; font-size: 1.1rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            max-width: 950px; margin: 0 auto; width: 100%;
        }

        /* Matrix Table Styling */
        .matrix-table {
            border-collapse: collapse; margin: 15px auto; font-family: monospace; font-size: 1.1rem;
            background: var(--panel-bg);
        }
        .matrix-table td {
            border: 1px solid var(--text-color); padding: 4px 12px; text-align: center;
        }
        
        /* Code Lines */
        .code-line { 
            margin-bottom: 2px; 
            line-height: 1.6; 
            white-space: pre; 
            display: flex; align-items: center; 
        }
        .indent-1 { padding-left: 30px; border-left: 1px solid rgba(0,0,0,0.05); }
        .indent-2 { padding-left: 60px; border-left: 1px solid rgba(0,0,0,0.05); }
        .indent-3 { padding-left: 90px; border-left: 1px solid rgba(0,0,0,0.05); }

        /* Inputs */
        .fill-input {
            background: var(--input-bg); border: 1px solid var(--input-border);
            color: var(--input-text); padding: 3px 8px; border-radius: 4px;
            font-family: inherit; font-size: 1rem; font-weight: bold;
            width: 120px; text-align: center; margin: 0 4px;
            height: 28px;
        }
        #in1 { width: 200px; }

        .fill-input:focus { outline: none; border-color: var(--col-main); box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.2); }
        .fill-input.correct { border-color: #10b981; background-color: #dcfce7; color: #166534; }
        .fill-input.wrong { border-color: #ef4444; background-color: #fee2e2; color: #991b1b; }

        /* Syntax Highlighting */
        .kw { color: var(--col-main); font-weight: bold; } 
        .var { color: var(--col-var); font-weight: 500;}   
        .num { color: var(--col-num); font-weight: bold; } 
        .com { color: var(--col-comment); font-style: italic; margin-left: 10px; } 
        .op { color: var(--text-color); margin: 0 4px; } 

        .narrative {
            padding: 10px; border-radius: 6px; font-weight: 500;
            text-align: center; margin-top: 15px; font-size: 0.9rem;
            border: 1px solid var(--border-color); background: #f1f5f9; display: none;
        }
        .narrative.success { background: #dcfce7; color: #166534; border-color: #bbf7d0; display: block; }
        .narrative.error { background: #fee2e2; color: #991b1b; border-color: #fecaca; display: block; }

    </style>
</head>
<body>

<header>
    <div class="header-title">
        <h1>ğŸ§© Î Î¯Î½Î±ÎºÎµÏ‚: Î£Ï…Î¼Ï€Î»Î®ÏÏ‰ÏƒÎ· ÎšÏÎ´Î¹ÎºÎ±</h1>
    </div>
    
    <div class="controls-area">
        <button onclick="resetApp()">ğŸ”„ Î•Ï€Î±Î½Î±Ï†Î¿ÏÎ¬</button>
        <button class="btn-check" onclick="checkAnswers()">âœ… Î‘Î¾Î¹Î¿Î»ÏŒÎ³Î·ÏƒÎ·</button>
        <button class="btn-solve" onclick="showSolution()">ğŸ’¡ Î›ÏÏƒÎ·</button>
        <div style="border-left:1px solid var(--border-color); height:20px;"></div>
        <button onclick="toggleTheme()">ğŸŒ™</button>
    </div>
</header>

<div class="main-container">
    
    <div class="col-info">
        <h3 style="margin-top:0; color:var(--col-main); border-bottom:2px solid var(--bg-color); padding-bottom:5px;">Î•ÎºÏ†ÏÎ½Î·ÏƒÎ·</h3>
        
        <p>Î”Î¯Î½ÎµÏ„Î±Î¹ Î¿ Ï€Î±ÏÎ±ÎºÎ¬Ï„Ï‰ Ï„ÎµÏ„ÏÎ±Î³Ï‰Î½Î¹ÎºÏŒÏ‚ Î Î¯Î½Î±ÎºÎ±Ï‚ <b>Î‘[4,4]</b>:</p>
        
        <table class="matrix-table">
            <tr><td>2</td><td>4</td><td>6</td><td>8</td></tr>
            <tr><td>3</td><td>6</td><td>9</td><td>12</td></tr>
            <tr><td>10</td><td>12</td><td>14</td><td>16</td></tr>
            <tr><td>15</td><td>18</td><td>21</td><td>24</td></tr>
        </table>

        <p>Î£Ï„Î¹Ï‚ Î¼Î¿Î½Î­Ï‚ Î³ÏÎ±Î¼Î¼Î­Ï‚ (1Î·, 3Î·) ÎºÎ±Ï„Î±Ï‡Ï‰ÏÎ¯Î¶Î¿Î½Ï„Î±Î¹ Î¿Î¹ Ï„Î¹Î¼Î­Ï‚ 2, 4, 6... (ÏƒÏ…Î½ÎµÏ‡ÏŒÎ¼ÎµÎ½Î¿Î¹ Î¬ÏÏ„Î¹Î¿Î¹).</p>
        <p>Î£Ï„Î¹Ï‚ Î¶Ï…Î³Î­Ï‚ Î³ÏÎ±Î¼Î¼Î­Ï‚ (2Î·, 4Î·) ÎºÎ±Ï„Î±Ï‡Ï‰ÏÎ¯Î¶Î¿Î½Ï„Î±Î¹ Î¿Î¹ Ï„Î¹Î¼Î­Ï‚ 3, 6, 9... (ÏƒÏ…Î½ÎµÏ‡ÏŒÎ¼ÎµÎ½Î± Ï€Î¿Î»Î»Î±Ï€Î»Î¬ÏƒÎ¹Î± Ï„Î¿Ï… 3).</p>
        
        <hr style="border:0; border-top:1px solid var(--border-color); margin: 10px 0;">
        
        <p><b>Î–Î·Ï„Î¿ÏÎ¼ÎµÎ½Î¿:</b><br>Î£Ï…Î¼Ï€Î»Î·ÏÏÏƒÏ„Îµ Ï„Î± ÎºÎµÎ½Î¬ (1) Î­Ï‰Ï‚ (5) ÏƒÏ„Î¿Î½ ÎºÏÎ´Î¹ÎºÎ± Î´Î¯Ï€Î»Î±, ÏÏƒÏ„Îµ Î½Î± Ï…Î»Î¿Ï€Î¿Î¹ÎµÎ¯Ï„Î±Î¹ Î· Ï€Î±ÏÎ±Ï€Î¬Î½Ï‰ Î»Î¿Î³Î¹ÎºÎ®.</p>
        
        <div id="feedbackBox" class="narrative"></div>
    </div>

    <div class="col-viz">
        <div class="code-container">
            <div class="code-line"><span class="var">Îº</span> <span class="op">â†</span> <span class="num">2</span></div>
            <div class="code-line"><span class="var">Î»</span> <span class="op">â†</span> <span class="num">3</span></div>
            <div class="code-line" style="height:5px;"></div>
            
            <div class="code-line"><span class="kw">Î“Î™Î‘ </span> <span class="var">i </span> <span class="kw">Î‘Î ÎŸ </span> <span class="num">1 </span> <span class="kw">ÎœÎ•Î§Î¡Î™ </span> <span class="num">4</span></div>
            <div class="code-line indent-1"><span class="kw">Î“Î™Î‘ </span> <span class="var">j </span> <span class="kw">Î‘Î ÎŸ </span> <span class="num">1 </span> <span class="kw">ÎœÎ•Î§Î¡Î™ </span> <span class="num">4</span></div>
            
            <div class="code-line indent-2"><span class="kw">Î‘Î</span> <input type="text" id="in1" class="fill-input" placeholder="(1)"> <span class="kw">Î¤ÎŸÎ¤Î•</span> <span class="com"> </span></div>
            
            <div class="code-line indent-3"><input type="text" id="in2" class="fill-input" placeholder="(2)"></div>
            
            <div class="code-line indent-3"><span class="var">Îº</span> <span class="op">â†</span> <input type="text" id="in3" class="fill-input" placeholder="(3)"></div>
            
            <div class="code-line indent-2"><span class="kw">Î‘Î›Î›Î™Î©Î£</span></div>
            
            <div class="code-line indent-3"><span class="var">Î‘</span>[<span class="var">i</span>,<span class="var">j</span>] <span class="op">â†</span> <input type="text" id="in4" class="fill-input" placeholder="(4)"></div>
            
            <div class="code-line indent-3"><input type="text" id="in5" class="fill-input" placeholder="(5)"></div>
            
            <div class="code-line indent-2"><span class="kw">Î¤Î•Î›ÎŸÎ£_Î‘Î</span></div>
            
            <div class="code-line indent-1"><span class="kw">Î¤Î•Î›ÎŸÎ£_Î•Î Î‘ÎÎ‘Î›Î—Î¨Î—Î£</span></div>
            <div class="code-line"><span class="kw">Î¤Î•Î›ÎŸÎ£_Î•Î Î‘ÎÎ‘Î›Î—Î¨Î—Î£</span></div>
        </div>
    </div>

</div>

<script>
    const solutions = {
        1: ["imod2<>0", "imod2=1", "i%2!=0", "i%2==1", "imod2!=0"],
        2: ["a[i,j]<-k", "a[i,j]:=k", "a[i,j]=k"],
        3: ["k+2", "k+2"],
        4: ["l", "Î»"],
        5: ["l<-l+3", "l:=l+3", "l=l+3", "Î»<-Î»+3"]
    };

    const displaySolutions = {
        1: "i mod 2 <> 0",
        2: "A[i,j] â† Îº",
        3: "Îº + 2",
        4: "Î»",
        5: "Î» â† Î» + 3"
    };

    function checkAnswers() {
        let correctCount = 0;
        let total = 5;
        let feedback = document.getElementById('feedbackBox');

        for (let i = 1; i <= total; i++) {
            let input = document.getElementById(`in${i}`);
            let val = normalize(input.value);
            let isValid = false;

            for (let sol of solutions[i]) {
                if (val === normalize(sol)) {
                    isValid = true;
                    break;
                }
            }

            input.classList.remove('correct', 'wrong');
            if (isValid) {
                input.classList.add('correct');
                correctCount++;
            } else {
                input.classList.add('wrong');
            }
        }

        if (correctCount === total) {
            feedback.innerHTML = "ğŸ‰ <b>ÎœÏ€ÏÎ¬Î²Î¿!</b> ÎŸ Î±Î»Î³ÏŒÏÎ¹Î¸Î¼Î¿Ï‚ ÎµÎ¯Î½Î±Î¹ ÏƒÏ‰ÏƒÏ„ÏŒÏ‚.";
            feedback.className = "narrative success";
        } else {
            feedback.innerHTML = `âš ï¸ ÎˆÏ‡ÎµÎ¹Ï‚ <b>${total - correctCount}</b> Î»Î¬Î¸Î·.`;
            feedback.className = "narrative error";
        }
    }

    function showSolution() {
        for (let i = 1; i <= 5; i++) {
            let input = document.getElementById(`in${i}`);
            input.value = displaySolutions[i];
            input.classList.remove('wrong');
            input.classList.add('correct');
        }
        let feedback = document.getElementById('feedbackBox');
        feedback.innerHTML = "ğŸ’¡ Î›ÏÏƒÎ·: ÎŸÎ»Î¿ÎºÎ»Î·ÏÏÎ¸Î·ÎºÎµ.";
        feedback.className = "narrative success";
    }

    function normalize(str) {
        let s = str.toLowerCase().replace(/\s+/g, '');
        s = s.replace('â†', '<-');
        s = s.replace('Îº', 'k');
        s = s.replace('Î»', 'l');
        s = s.replace('Î±[', 'a[');
        return s;
    }

    function resetApp() {
        for (let i = 1; i <= 5; i++) {
            let input = document.getElementById(`in${i}`);
            input.value = "";
            input.classList.remove('correct', 'wrong');
        }
        let feedback = document.getElementById('feedbackBox');
        feedback.style.display = 'none';
        feedback.className = "narrative";
    }

    function toggleTheme() {
        document.body.classList.toggle('dark-mode');
    }

</script>
</body>
</html>